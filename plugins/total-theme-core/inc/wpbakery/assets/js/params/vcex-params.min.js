!function(s){"use strict";(void 0!==s.fn.chosen&&(s(".vcex-chosen").chosen({search_contains:!0,inherit_select_classes:!0}),s(".vcex-chosen-alt").chosen({disable_search:!0,inherit_select_classes:!0})),s(".vc_edit_form_elements").on("click",".vcex-alignments-param .vcex-alignment-opt",function(e){var a=s(this),t=a.parent(".vcex-alignments-param"),i=t.find(".vcex-hidden-input");t.find(".vcex-alignment-opt").removeClass("vcex-active"),a.addClass("vcex-active"),i.val(a.data("value")).trigger("change")}),s(".vcex-number-param").change(function(){var e=s(this).val(),a=parseInt(s(this).attr("min")),t=parseInt(s(this).attr("max"));a&&t&&e&&(t<e?s(this).val(t):e<a&&s(this).val(a))}),s(".vc_edit_form_elements").on("click",".vcex-custom-select .vcex-opt",function(e){var a=s(this),t=a.parent(".vcex-custom-select"),i=t.find(".vcex-hidden-input");t.find(".vcex-opt").removeClass("vcex-active"),a.addClass("vcex-active"),i.val(a.data("value")).trigger("change")}),s(".vc_edit_form_elements").on("click",".vcex-ofswitch .vcex-btn",function(e){var a=s(this),t=a.parent(".vcex-ofswitch"),i=t.find(".vcex-hidden-input");t.find(".vcex-btn").removeClass("vcex-active"),a.addClass("vcex-active"),i.val(a.data("value")).trigger("change")}),void 0!==s.fn.sortable)&&s(".vcex-sorter-param").each(function(){var t=s(this);t.sortable(),t.disableSelection(),t.on("sortstop",function(e,a){i(t)}),t.find("li > a").click(function(){s(this).find(".ticon").toggleClass("ticon-rotate-180"),s(this).parents("li:eq(0)").toggleClass("vcex-disabled"),i(t)})});function i(e){var a=[];e.find("li").each(function(){s(this).hasClass("vcex-disabled")||a.push(s(this).attr("data-value"))}),s(e).next("input.wpb_vc_param_value").val(a).trigger("change")}function r(e){var c=[],v="";return e.each(function(e,a){var t=s(this),i=t.val();if(t.parent().hasClass("vcex-item-1")&&(v=t),i){var n=t.attr("name")+":"+i;c.push(n)}}),1==c.length&&v.val()?v.val():c.join("|")}s(".vcex-responsive-column-select").on("change",function(e){var c=[],a=s(this).closest(".vcex-responsive-columns-param"),t=a.find("select"),i=a.find("input.wpb_vc_param_value");t.each(function(e,a){var t=s(this),i=t.val();if(i){var n=t.attr("name")+":"+i;c.push(n)}}),i.val(c.join("|"))}),s(".vc_shortcode-param[data-vc-shortcode-param-name='responsive_text'], .vc_shortcode-param[data-vc-shortcode-param-name='responsive_font_size']").each(function(){var e=s(this),a=e.find(".wpb-input"),t=e.prev(),i=t.find(".vcex-input"),n=t.find(".vcex-item"),c=t.find(".vcex-item-1"),v=t.find("input.vcex_responsive_sizes_field");"true"==a.val()&&(n.hide(),c.show(),v.val(c.find(".vcex-input").val())),a.on("input change",function(e){"true"==a.val()?(n.hide(),c.show(),v.val(c.find(".vcex-input").val())):(c.find(".vcex-input").val()&&n.show(),v.val(r(i)))})}),s(".vcex-trbl-param .vcex-input").on("input",function(e){var a=s(this).closest(".vcex-trbl-param"),t=a.find(".vcex-input"),i=a.find("input.vcex-hidden-input"),c=[];t.each(function(e,a){var t=s(this),i=t.val();if(i){var n=t.attr("name")+":"+i;c.push(n)}}),i.val(c.join("|"))}),s(".vcex-rs-param .vcex-input").on("input",function(e){var a=s(this),t=a.closest(".vcex-rs-param"),i=t.closest(".wpb_el_type_vcex_responsive_sizes").next().find("select.responsive_text"),n=t.find(".vcex-input"),c=t.find("input.vcex_responsive_sizes_field");if(a.parent().hasClass("vcex-item-1")){if(!a.val())return t.find(".vcex-item").not(".vcex-item-1").hide(),void c.val("");if(t.find(".vcex-item").show(),i&&"true"==i.val())return t.find(".vcex-item").not(".vcex-item-1").hide(),void c.val(a.val())}c.val(r(n))}),vc.atts.vcex_colorpicker={parse:function(e){var a,t,i;return t=(a=this.content().find(".wpb_vc_param_value[name="+e.param_name+"]").parent()).find(".vcex-color-param__select"),i=a.find(".vcex-color-param__picker"),t.val()?t.val():i.val()?i.val():""},init:function(e,a){var t,i,n,c;vc.atts.colorpicker.init.call(this,e,a),i=(t=a).find(".vcex-color-param__select"),n=t.find(".vc_color-picker"),c=t.find(".vcex-color-param__preview"),i.change(function(){i.val()?(n.hide(),c.css("background-color",s(this).find(":selected").data("color")).show()):(n.show(),c.hide())}).trigger("change")}}}(jQuery);