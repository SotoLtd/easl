!function(r){if("undefined"==typeof vc||void 0===vc.shortcode_view)return;window.vcexBackendViewImage=vc.shortcode_view.extend({changeShortcodeParams:function(e){window.vcexBackendViewImage.__super__.changeShortcodeParams.call(this,e);var a,i,t=this,c=_.isString(e.getParam("source"))?e.getParam("source"):"";if(!c&&_.isString(e.getParam("image_source"))&&(c=e.getParam("image_source")),c){switch(c){case"external":a=e.getParam("external_image");break;case"custom_field":(a=e.getParam("custom_field_name"))||(a=e.getParam("image_custom_field"));break;default:(a=e.getParam("image_id"))||(a=e.getParam("image"))}r.ajax({type:"POST",url:window.ajaxurl,data:{action:"vcex_wpbakery_backend_view_image",content:a,size:"thumbnail",post_id:vc_post_id,image_source:c,_vcnonce:window.vcAdminNonce},dataType:"html",context:t}).done(function(e){var a;(a=e)?((i=t.$el.find(".vcex_wpb_image_holder")).length||(t.$el.find(".wpb_element_wrapper").append('<p class="vcex_wpb_image_holder"></p>'),i=t.$el.find(".vcex_wpb_image_holder")),i.html('<img src="'+a+'" style="max-height:75px" />')):t.$el.find(".vcex_wpb_image_holder").remove()})}}})}(jQuery);